{"ast":null,"code":"import _slicedToArray from\"C:/Users/Shaft/Desktop/flow/flowgen2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var _this=this;import React,{useState,Fragment}from'react';import ReactFlow,{addEdge,Background,Controls,MiniMap,getBezierPath,getMarkerEnd}from'react-flow-renderer';import Sidebar from'./Sidebar';import{slide as Menu}from'react-burger-menu';var initialElements=[{id:'1',type:'input',data:{label:'Start Node'},position:{x:0,y:0}}];var onLoad=function onLoad(reactFlowInstance){reactFlowInstance.fitView();};var Card=function Card(){var _useState=useState(initialElements),_useState2=_slicedToArray(_useState,2),elements=_useState2[0],setElements=_useState2[1];//const [elements, setElements] = useState([]);\nvar _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),lastId=_useState4[0],setLastId=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),name=_useState6[0],setName=_useState6[1];var _useState7=useState(\"blank\"),_useState8=_slicedToArray(_useState7,2),text=_useState8[0],setText=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),removingId=_useState10[0],setRemovingId=_useState10[1];var _useState11=useState(\"new\"),_useState12=_slicedToArray(_useState11,2),nodeName=_useState12[0],setNodeName=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),images=_useState14[0],setImage=_useState14[1];var addNode=function addNode(){setElements(function(e){return e.concat({//id: (e.length + 1).toString(),\nid:lastId+1,data:{label:\"\".concat(name)},position:{x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight}});});};var addNode2=function addNode2(){var lId=parseInt(\"\".concat(lastId));var node=getImageNode(lId+1);setText(lId);setLastId(lId+1);setElements(function(e){return e.concat({//id: (e.length + 1).toString(),\nid:lId+1,//data: { label: <div><h1>Hello</h1></div> },\ndata:{label:node},//position: { x: Math.random() * window.innerWidth, y: Math.random() * window.innerHeight }\nposition:{x:e[0].position.x+50,y:e[0].position.y+50}});});};var onRemove=function onRemove(nid){//alert(nid.toString());\n//setText(\"removing\" + nid.toString());\nvar newarr=elements.filter(function(element){return element.id!==nid;});setElements(newarr);};var getImageNode=function getImageNode(nid){var x=nid.toString();return/*#__PURE__*/_jsxs(\"div\",{style:{flexDirection:'column',justifyContent:\"center\"},children:[/*#__PURE__*/_jsx(\"a\",{children:nodeName}),/*#__PURE__*/_jsx(\"hr\",{}),images[0].name//images.map((item,i) => <li key={i}>Test</li>)\n,/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"button\",{style:{right:10,top:10},onClick:function onClick(e){return onRemove(x);},children:\"Delete\"})]});};var onConnect=function onConnect(params){//setText(params.source.toString() + params.target.toString());\nvar i='e'+params.source.toString()+'-'+params.target.toString();var s=params.source.toString();var t=params.target.toString();setElements(function(e){return e.concat({id:i,source:s,target:t,animated:true});});};var selectImage=function selectImage(params){//setText(params.source.toString() + params.target.toString());\nvar i='e'+params.source.toString()+'-'+params.target.toString();var s=params.source.toString();var t=params.target.toString();setElements(function(e){return e.concat({id:i,source:s,target:t,animated:true});});};var handleClick=function handleClick(e){_this.refs.fileUploader.click();};return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(Menu,{children:[/*#__PURE__*/_jsx(\"a\",{className:\"menu-item\",children:\"Create Node\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:function onChange(e){return setNodeName(e.target.value);},name:\"Node Name\",style:{color:'#000'}}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:function onChange(event){return setImage(event.target.files);}}),/*#__PURE__*/_jsx(\"button\",{style:{color:'#000'},type:\"button\",onClick:addNode2,children:\"Add Node\"})]}),/*#__PURE__*/_jsxs(ReactFlow,{elements:elements,onLoad:onLoad,style:{width:'100%',height:'90vh'},onConnect:onConnect,connectionLineStyle:{stroke:\"#ddd\",strokeWidth:2},connectionLineType:\"bezier\",snapToGrid:true,snapGrid:[16,16],children:[/*#__PURE__*/_jsx(Background,{color:\"#888\",gap:16}),/*#__PURE__*/_jsx(MiniMap,{}),/*#__PURE__*/_jsx(Controls,{})]})]});};export default Card;","map":{"version":3,"sources":["C:/Users/Shaft/Desktop/flow/flowgen2/src/Components/Basic2.js"],"names":["React","useState","Fragment","ReactFlow","addEdge","Background","Controls","MiniMap","getBezierPath","getMarkerEnd","Sidebar","slide","Menu","initialElements","id","type","data","label","position","x","y","onLoad","reactFlowInstance","fitView","Card","elements","setElements","lastId","setLastId","name","setName","text","setText","removingId","setRemovingId","nodeName","setNodeName","images","setImage","addNode","e","concat","Math","random","window","innerWidth","innerHeight","addNode2","lId","parseInt","node","getImageNode","onRemove","nid","newarr","filter","element","toString","flexDirection","justifyContent","right","top","onConnect","params","i","source","target","s","t","animated","selectImage","handleClick","refs","fileUploader","click","value","color","event","files","width","height","stroke","strokeWidth"],"mappings":"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","sourcesContent":["import React, { useState, Fragment } from 'react';\r\n\r\nimport ReactFlow, { addEdge, Background, Controls, MiniMap, getBezierPath, getMarkerEnd } from 'react-flow-renderer';\r\nimport Sidebar from './Sidebar';\r\nimport { slide as Menu } from 'react-burger-menu';\r\n\r\nconst initialElements = [\r\n    { id: '1', type: 'input', data: { label: 'Start Node' }, position: { x: 0, y: 0 } }\r\n]\r\nconst onLoad = (reactFlowInstance) => {\r\n    reactFlowInstance.fitView();\r\n}\r\n\r\nconst Card = () => {\r\n\r\n    const [elements, setElements] = useState(initialElements);\r\n    //const [elements, setElements] = useState([]);\r\n    const [lastId, setLastId] = useState(1);\r\n    const [name, setName] = useState(\"\")\r\n    const [text, setText] = useState(\"blank\");\r\n    const [removingId, setRemovingId] = useState(0);\r\n    const [nodeName, setNodeName] = useState(\"new\");\r\n    const [images, setImage] = useState([]);\r\n\r\n    const addNode = () => {\r\n        setElements(e => e.concat({\r\n            //id: (e.length + 1).toString(),\r\n            id: lastId + 1,\r\n            data: { label: `${name}` },\r\n            position: { x: Math.random() * window.innerWidth, y: Math.random() * window.innerHeight }\r\n        }));\r\n    };\r\n    const addNode2 = () => {\r\n        var lId = parseInt(`${lastId}`);\r\n        var node = getImageNode(lId + 1);\r\n        setText(lId);\r\n        setLastId(lId + 1);\r\n        setElements(e => e.concat({\r\n            //id: (e.length + 1).toString(),\r\n            id: lId + 1,\r\n            //data: { label: <div><h1>Hello</h1></div> },\r\n            data: { label: node },\r\n            //position: { x: Math.random() * window.innerWidth, y: Math.random() * window.innerHeight }\r\n            position: { x: e[0].position.x + 50, y: e[0].position.y + 50 }\r\n        }));\r\n    };\r\n    const onRemove = (nid) => {\r\n        //alert(nid.toString());\r\n        //setText(\"removing\" + nid.toString());\r\n        var newarr = elements.filter(element => element.id !== nid);\r\n        setElements(newarr);\r\n    };\r\n    const getImageNode = (nid) => {\r\n        var x = nid.toString();\r\n        return <div\r\n            style={{\r\n                flexDirection: 'column',\r\n                justifyContent: \"center\",\r\n            }}>\r\n            <a>{nodeName}</a><hr />\r\n            {\r\n                images[0].name\r\n                //images.map((item,i) => <li key={i}>Test</li>)\r\n            }\r\n            <hr />\r\n            <button style={{ right: 10, top: 10 }} onClick={e => onRemove(x)}>Delete</button>\r\n        </div>\r\n    };\r\n\r\n    const onConnect = (params) => {\r\n        //setText(params.source.toString() + params.target.toString());\r\n        var i = 'e' + params.source.toString() + '-' + params.target.toString();\r\n        var s = params.source.toString();\r\n        var t = params.target.toString();\r\n        setElements(e => e.concat({\r\n            id: i,\r\n            source: s,\r\n            target: t,\r\n            animated: true\r\n        }));\r\n    }\r\n    const selectImage = (params) => {\r\n        //setText(params.source.toString() + params.target.toString());\r\n        var i = 'e' + params.source.toString() + '-' + params.target.toString();\r\n        var s = params.source.toString();\r\n        var t = params.target.toString();\r\n        setElements(e => e.concat({\r\n            id: i,\r\n            source: s,\r\n            target: t,\r\n            animated: true\r\n        }));\r\n    }\r\n    const handleClick = (e) => {\r\n        this.refs.fileUploader.click();\r\n    }\r\n    return (\r\n        <Fragment>\r\n            <Menu>\r\n                <a className=\"menu-item\">Create Node</a>\r\n                <input type=\"text\"\r\n                    onChange={e => setNodeName(e.target.value)}\r\n                    name=\"Node Name\" style={{ color: '#000' }} />\r\n                <input type=\"file\" onChange={(event) => setImage(event.target.files)} />\r\n                <button style={{ color: '#000' }} type=\"button\" onClick={addNode2}>Add Node</button>\r\n            </Menu>\r\n            <ReactFlow\r\n                elements={elements}\r\n                onLoad={onLoad}\r\n                style={{ width: '100%', height: '90vh' }}\r\n                onConnect={onConnect}\r\n                connectionLineStyle={{ stroke: \"#ddd\", strokeWidth: 2 }}\r\n                connectionLineType=\"bezier\"\r\n                snapToGrid={true}\r\n                snapGrid={[16, 16]}\r\n            >\r\n                <Background color=\"#888\" gap={16} />\r\n                <MiniMap />\r\n                <Controls />\r\n            </ReactFlow>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default Card;"]},"metadata":{},"sourceType":"module"}