(this.webpackJsonpflowgen2=this.webpackJsonpflowgen2||[]).push([[0],{19:function(e,t,n){},20:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(0),o=n.n(c),i=n(10),r=n.n(i),s=(n(19),n(6)),u=n(3),l=(n.p,n(20),n(24)),j=n(25),b=n(13),d=n(28),g=n(27),p=n(2),f=(o.a.Component,n(14));n(54);f.a.initializeApp({apiKey:"super secret keys.....asgvegxgevergfvr",authDomain:"tallans-imageupload-tutorial.firebaseapp.com",databaseURL:"https://tallans-imageupload-tutorial.firebaseio.com",projectId:"tallans-imageupload-tutorial",storageBucket:"tallans-imageupload-tutorial.appspot.com",messagingSenderId:"super secret keys.....asgvegxgevergfvr",appId:"super secret app id....adsfa;lsdkjf",measurementId:"super secret as;dlkfjal;dskjf"});var O=f.a.storage(),m=n(11),h=[{id:"1",type:"input",data:{label:"Start Node"},position:{x:0,y:0}}],x=function(e){e.fitView()},v=function(){var e=Object(c.useState)(h),t=Object(u.a)(e,2),n=t[0],o=t[1],i=Object(c.useState)(1),r=Object(u.a)(i,2),l=r[0],j=r[1],b=Object(c.useState)(""),d=Object(u.a)(b,2),g=(d[0],d[1],Object(c.useState)("blank")),f=Object(u.a)(g,2),v=(f[0],f[1]),y=Object(c.useState)(0),S=Object(u.a)(y,2),k=(S[0],S[1],Object(c.useState)("new")),C=Object(u.a)(k,2),w=C[0],I=C[1],L=Object(c.useState)([]),N=Object(u.a)(L,2),D=(N[0],N[1],Object(c.useState)("")),U=Object(u.a)(D,2),F=U[0],T=U[1],B=Object(c.useState)({imgUrl:""}),A=Object(u.a)(B,2),z=A[0],G=A[1],J=Object(c.useState)(0),M=Object(u.a)(J,2),P=M[0],R=M[1],E=function(e){var t=e.toString();return Object(a.jsxs)("div",{style:{flexDirection:"column",justifyContent:"center"},children:[Object(a.jsx)("a",{children:w}),Object(a.jsx)("hr",{}),Object(a.jsx)("img",{src:z.imgUrl,style:{width:80,height:80},alt:"image tag"}),Object(a.jsx)("hr",{}),Object(a.jsx)("button",{style:{right:10,top:10},onClick:function(e){return function(e){var t=n.filter((function(t){return t.id!==e}));o(t)}(t)},children:"Delete"})]})};return Object(a.jsxs)(c.Fragment,{children:[Object(a.jsxs)(m.slide,{children:[Object(a.jsx)("a",{className:"menu-item",children:"Create Node"}),Object(a.jsx)("input",{type:"text",onChange:function(e){return I(e.target.value)},name:"Node Name",style:{color:"#000"}}),0==P||100==P?Object(a.jsx)("div",{}):Object(a.jsx)("progress",{value:P,max:"100"}),Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log("start of upload"),""===F&&console.error("not an image, the image file is a ".concat(typeof F)),O.ref("/images/".concat(F.name)).put(F).on("state_changed",(function(e){console.log(e);var t=Math.round(e.bytesTransferred/e.totalBytes*100);R(t)}),(function(e){console.log(e)}),(function(){O.ref("images").child(F.name).getDownloadURL().then((function(e){G((function(t){return Object(s.a)(Object(s.a)({},t),{},{imgUrl:e})}))}))}))},children:[Object(a.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0];T((function(e){return t}))}}),Object(a.jsx)("button",{children:"upload to firebase"})]}),Object(a.jsx)("button",{style:{color:"#000"},type:"button",onClick:function(){var e=parseInt("".concat(l)),t=E(e+1);v(e),j(e+1),o((function(n){return n.concat({id:e+1,data:{label:t},position:{x:n[0].position.x+50,y:n[0].position.y+50}})}))},children:"Add Node"})]}),Object(a.jsxs)(p.f,{elements:n,onLoad:x,style:{width:"100%",height:"90vh"},onConnect:function(e){var t="e"+e.source.toString()+"-"+e.target.toString(),n=e.source.toString(),a=e.target.toString();o((function(e){return e.concat({id:t,source:n,target:a,animated:!0})}))},connectionLineStyle:{stroke:"#ddd",strokeWidth:2},connectionLineType:"bezier",snapToGrid:!0,snapGrid:[16,16],children:[Object(a.jsx)(p.a,{color:"#888",gap:16}),Object(a.jsx)(p.d,{}),Object(a.jsx)(p.b,{})]})]})};var y=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),n=t[0],o=(t[1],Object(c.useState)({imgUrl:""})),i=Object(u.a)(o,2);return i[0],i[1],console.log(n),Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(v,{})})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,60)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),o(e),i(e)}))};r.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(y,{})}),document.getElementById("root")),S()}},[[53,1,2]]]);
//# sourceMappingURL=main.a5293d42.chunk.js.map